fragment projectFormFields on Project {
  vid
  name
  type
  region {
    vid
    name
    fullName
  }
  coordinates
  description
  version
  status
}

fragment commonError on Error {
  code
  message
  details
  payload
}

mutation UpdateProjectStatus($vid: UUID!, $data: ProjectStatusUpdateType!) {
  updateProjectStatus(vid: $vid, data: $data) {
    result {
      ... on Project {
        ...projectFormFields
      }
      ... on ErrorInterface {
        ...commonError
      }
      ... on ValidationError {
        items {
          path
          code
          message
        }
      }
      ... on UpdateProjectDiff {
        remoteProject {
          ...projectFormFields
        }
      }
    }
  }
}

mutation CreateBlankProject {
  createProject(data: {}) {
    result {
      ... on Project {
        ...projectFormFields
      }
      ... on ValidationError {
        items {
          path
          code
          message
        }
      }
      ... on ErrorInterface {
        ...commonError
      }
    }
  }
}

mutation UpdateProjectForm($vid: UUID, $data: ProjectUpdateType) {
  updateProject(vid: $vid, data: $data) {
    result {
      ... on Project {
      ...projectFormFields
      }
      ... on ErrorInterface {
        ...commonError
      }
      ... on ValidationError {
        items {
          path
          code
          message
        }
      }
      ... on UpdateProjectDiff {
        remoteProject {
          ...projectFormFields
        }
      }
    }
  }
}

query ProjectFormFields($vid: UUID!) {
  project(vid: $vid) {
    ... on Project {
      ...projectFormFields
    }
    ... on Error {
      ...commonError
    }
  }
}

query ProjectFormRegionList {
  regionList {
    vid
    name
    fullName
    country {
      vid
      name
    }
  }
}

mutation DeleteBlankProject($vid: UUID) {
  deleteProject(vid: $vid) {
    result {
      ... on Result {
        vid
      }
      ... on Error {
        ...commonError
      }
    }
  }
}
