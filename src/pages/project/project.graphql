fragment projectFormFields on Project {
  vid
  name
  type
  region {
    vid
    name
    fullName
  }
  coordinates
  description
  yearStart
  version
}

fragment commonError on Error {
  code
  message
  details
  payload
}

mutation CreateBlankProject {
  createProject(data: {}) {
    result {
      ... on Project {
        ...projectFormFields
      }
      ... on Error {
        ...commonError
      }
    }
  }
}


mutation CreateProject(
  $vid: UUID!
  $name: String!
  $region: UUID
  $coordinates: String
  $description: String
  $status: ProjectStatusEnum!
  $yearStart: Int!
  $version: Int!
) {
  updateProject(
    vid: $vid
    data: {
      name: $name
      region: $region
      coordinates: $coordinates
      description: $description
      status: $status
      yearStart: $yearStart
      version: $version
    }
  ) {
    result {
      ... on Project {
        ...projectFormFields
        status
      }
      ... on Error {
        ...commonError
      }
    }
  }
}
mutation UpdateProjectForm(
  $vid: UUID
  $data: ProjectUpdateType
) {
  updateProject(
    vid: $vid
    data: $data
  ) {
    result {
      ... on Project {
        ...projectFormFields
      }
      ... on Error {
        ...commonError
      }
      ... on UpdateProjectDiff {
        remoteProject {
          ...projectFormFields
        }
        localProject {
          ...projectFormFields
        }
      }
    }
  }
}

query ProjectFormFields($vid: UUID!) {
  project(vid: $vid) {
    ... on Project {
      ...projectFormFields
    }
    ... on Error {
      ...commonError
    }
  }
}

query ProjectFormRegionList {
  regionList {
    vid
    name
    fullName
    country {
      vid
      name
    }
  }
}

mutation DeleteBlankProject($vid: UUID) {
  deleteProject(vid: $vid) {
    result {
      ... on Result {
        vid
      }
      ... on Error {
        ...commonError
      }
    }
  }
}
