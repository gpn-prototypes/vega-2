query ProjectsTableList {
  projects: projectList {
    ... on ProjectList {
      data: projectList {
        vid
        isFavorite
        name
        version
        description
        status
        attendees {
          user {
            name
            role
          }
          roles {
            name
          }
        }
        region {
          name
        }
        editedAt
        createdAt
        createdBy {
          name
          vid
        }
      }
    }
    ... on Error {
      code
      message
      details
    }
  }
}

mutation ProjectToggleFavorite(
  $vid: UUID!
  $isFavorite: Boolean!
  $version: Int!
) {
  updateProject(data: { isFavorite: $isFavorite, version: $version }, vid: $vid) {
    result {
      ... on Project {
        vid
        isFavorite
        version
      }
      ... on Error {
        code
        message
      }
      ... on UpdateProjectDiff {
        remoteProject {
          vid
          isFavorite
          version
        }
      }
    }
  }
}

mutation DeleteProject($vid: UUID) {
  deleteProject(vid: $vid) {
    result {
      ... on Result {
        vid
      }
      ... on Error {
        code
        message
        details
        payload
      }
    }
  }
}
